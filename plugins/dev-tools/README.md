# Dev Tools Plugin

开发工具集插件，包含 4 个专业的 Agent，帮助提升代码质量、调试效率和架构设计能力。

## 📦 包含的 Agents

### 1. Code Cleanup（代码清理专家）

**专长**：识别和清理冗余、未使用和失败的代码修复尝试

**核心能力：**
- 🔍 **Git 历史深度分析**：分析多个提交识别失败的修复尝试
- 🧹 **失败修复检测**：识别调试过程中添加但最终未使用的代码
- 📝 **提交信息分析**：查找"试试"、"临时"、"测试"等关键词
- 🗑️ **死代码路径分析**：检测从未执行或已过时的代码路径

**适用场景：**
- 功能开发完成后的代码整理
- Bug 修复后清理调试代码
- 代码审查前的预清理
- 项目重构时移除冗余代码

**使用方法：**
```bash
# 在 Claude Code 中使用 Task 工具调用
# 系统会自动根据需要调用此 agent
```

**清理目标：**
- ❌ 调试语句（console.log, print, debugger）
- ❌ 未使用的导入
- ❌ 注释掉的代码块
- ❌ 临时变量和实验性代码
- ❌ 重复的函数或代码块
- ❌ 多次尝试的修复代码

---

### 2. Code Review Specialist（代码审查专家）

**专长**：全面的代码质量、安全性和可维护性审查

**核心能力：**
- ✅ **代码质量分析**：评估代码清晰度、效率和最佳实践
- 🔒 **安全漏洞识别**：检测注入漏洞、认证缺陷、数据暴露风险
- 📊 **可维护性评估**：审查代码结构、命名规范、文档完整性
- 💡 **改进建议**：提供具体、可操作的改进方案和代码示例

**审查方法：**
1. **初步评估**：识别代码目的、语言和框架
2. **系统分析**：
   - 逻辑错误和边界情况
   - 错误处理和输入验证
   - 性能影响和可扩展性
   - SOLID 原则和设计模式
3. **安全扫描**：OWASP Top 10 漏洞检查
4. **可维护性检查**：代码可读性和抽象层次

**输出格式：**
1. 📋 概要：代码目的和整体质量
2. ⚠️ 关键问题：必须修复的 bug 和安全漏洞
3. 💡 改进建议：按严重程度排序（Critical/High/Medium/Low）
4. ✨ 优点：良好实践的认可
5. 📝 代码示例：before/after 对比

**使用场景：**
- 提交代码前的自我审查
- Pull Request 审查
- 重要功能的安全检查
- 新人代码的指导审查

---

### 3. Debug Specialist（调试专家）

**专长**：错误诊断、根因分析和系统故障排除

**核心能力：**
- 🔎 **即时评估**：快速识别错误类型和严重程度
- 🧪 **系统调查**：逐行分析错误消息和堆栈追踪
- 🎯 **根因分析**：区分症状和根本原因
- 🛠️ **解决方案开发**：提供具体的修复方案和代码更正

**调试流程：**

1. **问题评估**
   - 分析错误消息和堆栈追踪
   - 识别错误发生位置
   - 检查常见陷阱

2. **根因分析**
   - 追踪数据流和执行路径
   - 检查边界条件和意外输入
   - 审查依赖和外部因素

3. **解决方案**
   - 针对根本原因的具体修复
   - 预防措施
   - 验证步骤

**特殊能力：**

**测试失败诊断：**
- 判断是测试问题还是实现问题
- 分析预期 vs 实际结果
- 识别测试隔离问题

**性能问题：**
- 识别瓶颈和资源限制
- 建议性能分析方法
- 推荐优化策略

**响应结构：**
1. 问题概要
2. 根本原因
3. 解决方案（含代码）
4. 验证方法
5. 预防措施

---

### 4. Feature Architect（功能架构师）

**专长**：全栈功能开发和架构设计

**核心能力：**
- 🏗️ **架构设计**：系统架构分析和集成方案
- 🧩 **功能分解**：复杂需求拆分为可管理组件
- 📐 **实施策略**：模块化开发和渐进式实现
- 🔮 **未来规划**：可扩展和可维护的设计

**工作流程：**

#### Phase 1: 功能智能与规划
1. **深度需求分析**
   - 提取功能性和非功能性需求
   - 识别用户故事和验收标准
   - 分析约束和技术限制

2. **架构调研**
   - 分析现有代码库架构
   - 识别可重用组件
   - 评估技术栈能力

#### Phase 2: 架构设计
1. **系统设计**
   - 创建高层架构
   - 设计组件层次和关系
   - 规划数据模型和状态管理

2. **实施策略**
   - 分解为逻辑阶段
   - 识别关键路径
   - 设计回滚策略

#### Phase 3: 智能实现
1. **基础搭建**
   - 创建项目结构
   - 设置测试框架
   - 配置开发工具

2. **核心开发**
   - 测试驱动开发
   - 遵循既定模式
   - 模块化和可重用

#### Phase 4: 质量与文档
1. **全面测试**
   - 单元测试
   - 集成测试
   - 端到端测试

2. **文档创建**
   - API 文档
   - 架构决策
   - 用户指南

**高级能力：**
- 🤖 智能代码生成
- 🔧 集成智能（API 设计、数据库集成）
- 📊 分析与监控

---

## 🚀 使用方式

这些 Agents 是通过 Claude Code 的 Task 工具自动调用的，无需手动指定。系统会根据任务类型智能选择合适的 Agent。

### 自动触发场景

**Code Cleanup Agent：**
- 开发完成后
- 提交代码前
- 代码审查时

**Code Review Specialist：**
- 编写或修改代码后
- 创建 Pull Request 前
- 重构完成后

**Debug Specialist：**
- 遇到错误时
- 测试失败时
- 代码行为异常时

**Feature Architect：**
- 开发新功能时
- 重大重构时
- 系统架构设计时

### 手动使用

虽然通常自动触发，你也可以在对话中明确请求：

```
"请用 code-cleanup agent 清理这段代码"
"用 code-review-specialist 审查这个 PR"
"用 debug-specialist 帮我分析这个错误"
"用 feature-architect 设计用户认证功能"
```

## 📖 最佳实践

### 1. Code Cleanup
- ✅ 定期清理，不要累积太多冗余代码
- ✅ 清理前确保代码已提交
- ✅ 逐步清理，每次测试
- ✅ 保留有价值的注释

### 2. Code Review
- ✅ 提交前自我审查
- ✅ 重视安全问题
- ✅ 及时修复 Critical/High 问题
- ✅ 学习审查反馈

### 3. Debugging
- ✅ 先理解错误再修复
- ✅ 修复根本原因，不只是症状
- ✅ 添加测试防止回归
- ✅ 记录调试过程

### 4. Feature Architecture
- ✅ 充分规划再实施
- ✅ 遵循既定架构模式
- ✅ 考虑未来扩展性
- ✅ 编写充分文档

## 🔄 工作流示例

### 完整开发流程

```bash
# 1. 功能设计（Feature Architect 自动参与）
"设计一个用户通知系统"

# 2. 开发实现
# ... 编码 ...

# 3. 代码审查（Code Review Specialist 自动审查）
"审查刚写的通知系统代码"

# 4. 调试（Debug Specialist 帮助解决问题）
"测试失败了，帮我看看"

# 5. 清理（Code Cleanup 清理冗余代码）
"清理调试代码和临时变量"

# 6. 提交
git commit -m "feat: 实现用户通知系统"
```

## ⚙️ 配置

这些 Agents 无需额外配置，安装插件后自动可用。

## 🤝 贡献

欢迎改进这些 Agents！如果你有好的想法：

1. Fork 项目
2. 修改 agent 文件
3. 提交 Pull Request

## 📄 许可证

MIT License

## 🔗 相关资源

- [Claude Code Agents 文档](https://code.claude.com/docs/en/agents)
- [Task Tool 使用指南](https://code.claude.com/docs/en/task-tool)
- [主项目 GitHub](https://github.com/DonChengCheng/claude-code-marketplace)
